var GravitDesigner=function(t){var r={};function e(i){if(r[i])return r[i].exports;var s=r[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var s in t)e.d(i,s,function(r){return t[r]}.bind(null,s));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="/",e(e.s=1251)}({1251:function(t,r,e){PSParser=function(t,r){this.inputArray=t,this.pointer=0,this.classes=null,this.comments={},this.DSCs={},this.EOF=!1,this.percentage=0,this.nestedParse=0,this.MAXWAITTIME=r||PSParser.MAXWAITTIME},PSParser.MAXWAITTIME=18e4,PSParser.prototype.notWhiteSpaceCharacterLambdas=[function(){if("%"==this._charAt()&&"%"==this._charAt(1)){var t=this.pointer,r=this.parseDSC();return this.DSCs[t]=r,"object"==typeof r&&-1!=Object.keys(r).indexOf("EOF")&&(this.EOF=!0),!0}return!1},function(){if("%"==this._charAt()){var t=this.pointer;if(this._findEOL(),this.pointer-t>10240)return!0;var r=String.fromCharCode.apply(null,this._inputSlice(t,this.pointer));return this.comments[t]=r,!0}return!1},function(){var t=!1;function r(t,r){var e=r.toLowerCase().charCodeAt(0);if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))e-="0".charCodeAt(0);else{if(!(e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)))return!1;e=e-"a".charCodeAt(0)+10}return e<t&&e}if(-1!=["0","1","2","3","4","5","6","7","8","9","-","+","."].indexOf(this._charAt())){if("-"==this._charAt()&&"|"==this._charAt(1))return!1;var e,i=this.pointer,s=this._charAt(),n=!1,h=!1;if(-1==["0","1","2","3","4","5","6","7","8","9",".","#","e","E","-","+"].indexOf(this._charAt(1)))t=parseInt(s);else{var o="-"==s?-1:1;-1!=o&&"+"!=s||(this.pointer++,s=this._charAt()),"."==s&&(s="0.");do{if(s.length>128){gDevelopment&&console.log("wrong number at "+this.pointer+"`"+s+"`");break}if(t=n,n=Number(s),s+=this._charAt(1),this.pointer++,"#"==this._charAt()){for(h=n,this.pointer++,t=0;!1!==(e=r(h,this._charAt()));)t=t*h+e,this.pointer++;this.pointer++;break}if(this.isEOF()||"e"!=this._charAt().toLowerCase()){if(-1==["0","1","2","3","4","5","6","7","8","9","-","+","."].indexOf(this._charAt())){t=n,this.pointer++;break}}else"-"!=this._charAt(1)&&"+"!=this._charAt(1)||(s+=this._charAt(1),this.pointer++),s+=this._charAt(1),this.pointer++}while(!isNaN(n));this.pointer-=2,t*=o}!1===t&&(gDevelopment&&console.log("false result of parse number at "+this.pointer+": "+s),this.pointer=i)}return t},function(){var t=!1;return"["==this._charAt()&&(t=this.classes.newObject("mark","[")),"<"==this._charAt()&&"<"==this._charAt(1)&&(this.pointer++,t=this.classes.newObject("mark","<<")),t},function(){return"]"==this._charAt()&&this.classes.newObject("mark","]")},function(){var t=!1;return">"==this._charAt()&&">"==this._charAt(1)&&(t=this.classes.newObject("mark",">>"),this.pointer++,t)},function(){this.pointer;if("/"==this._charAt()&&"/"==this._charAt(1)){this.pointer+=2;var t=this._readUntil((function(){return-1=="[]{}()\n\r \t\0<>\f%/".indexOf(this._charAt())}));if(t)return(t=this.classes.newObject("name",t)).IEN=!0,this.pointer--,t}return!1},function(){var t=this.pointer;if("/"==this._charAt()){this.pointer++;var r=this._readUntil((function(){return-1=="[]{}()\n\r \t\0<>\f%/".indexOf(this._charAt())}));if(r)return r=this.classes.newObject("name",r),this.pointer--,r}return this.pointer=t,!1},function(){this.pointer;var t="";if("("==this._charAt()){var r=1;for(this.pointer++;r>0&&!this.isEOF();){if("\\"!=this._charAt())t+=this._charAt(),"("==this._charAt()&&r++,")"==this._charAt()&&r--;else switch(this._charAt(1)){case"n":t+="\n",this.pointer++;break;case"r":t+="\r",this.pointer++;break;case"t":t+="\t",this.pointer++;break;case"b":t+="\b",this.pointer++;break;case"f":t+="\f",this.pointer++;break;case"\\":t+="\\",this.pointer++;break;case"(":t+="(",this.pointer++;break;case")":t+=")",this.pointer++;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":t+=String.fromCharCode(parseInt(this._charAt(1)+this._charAt(2)+this._charAt(3),8)),this.pointer+=3;break;case"\n":case"\r":for(this.pointer++;-1!="\r\n".indexOf(this._charAt())&&!this.isEOF();)this.pointer++;this.pointer--}this.pointer++}if(""!=t)return t=t.substring(0,t.length-1),this.pointer--,this.classes.newObject("string",t)}return!1},function(){this.pointer;var t="",r="";if("<"==this._charAt()&&-1!="0123456789abcdefABCDEF \f\r\n\t\0".indexOf(this._charAt(1))){for(this.pointer++;">"!=this._charAt()&&!this.isEOF();){if(-1!=" \f\r\n\t\0".indexOf(this._charAt()));else{if(-1=="0123456789abcdefABCDEF".indexOf(this._charAt()))return gDevelopment&&console.log("wrong hex string: "+this.pointer),!1;2==(r+=this._charAt()).length&&(t+=String.fromCharCode(parseInt(r,16)),r="")}this.pointer++}if((""!=t||""!=r)&&(1==r.length&&(r+="0",t+=String.fromCharCode(parseInt(r,16))),""!=t))return this.classes.newObject("string",t)}return!1},function(){this.pointer;var t="",r="";if("<"==this._charAt()&&"~"==this._charAt(1)){for(this.pointer+=2;"~"!=this._charAt()&&!this.isEOF();){if("z"==this._charAt()&&""==r)t+="\0\0\0\0";else if(this._charAt().charCodeAt(0)>=33&&this._charAt().charCodeAt(0)<=118&&5==(r+=this._charAt()).length){if(!1===(e=this.decodeTuple(r)))return!1;t+=e,r=""}this.pointer++}if(">"==this._charAt(1)){if(this.pointer++,1==r.length)return gDevelopment&&console.log("wrong ascii85 last tuple length 1: "+this.pointer),!1;if(""!=r){var e;if(!1===(e=this.decodeTuple(r)))return!1;t+=e}if(""!=t)return this.classes.newObject("string",t)}}return!1},function(){var t;this.pointer;if("{"==this._charAt())return this.core.nestedProcCount++,this.core.execute=!1,t=this.classes.newObject("mark","{");if("}"==this._charAt()){if(this.core.nestedProcCount>0)return this.core.nestedProcCount--,this.core.execute=0==this.core.nestedProcCount,(t=this.classes.newObject("mark","}")).pointer=this.pointer,t;gDevelopment&&console.log("Unmatched }: "+this.pointer)}return!1},function(){var t=this._uint8At();if(138==t||139==t){this.pointer++;for(var r,e=new ArrayBuffer(4),i=new DataView(e),s=0;s<4&&null!=(r=this._uint8At(138==t?s:3-s));++s)i.setUint8(s,r),this.pointer++;if(null!=r)return this.pointer--,i.getFloat32(0,138==t);this.pointer--}return!1},function(){var t=this.pointer,r=this._readUntil((function(){return-1=="[]{}()\n\r \t\0<>\f%/".indexOf(this._charAt())}));return r?(this.pointer--,this.classes.newObject("operator",r)):(this.pointer=t,!1)}],PSParser.prototype.isEOF=function(){return"%"==this._charAt(0)&&"%"==this._charAt(1)&&"E"==this._charAt(2)&&"O"==this._charAt(3)&&"F"==this._charAt(4)&&(this.EOF=!0),!!this.EOF||(this.EOF=!(this.inputArray.length>this.pointer))},PSParser.prototype._findEOL=function(){for(;-1==["\n","\r"].indexOf(this._charAt())&&!this.isEOF();)this.pointer++},PSParser.prototype._findFileStart=function(){for(;("%"!=this._charAt(0)||"!"!=this._charAt(1))&&!this.isEOF();)this.pointer++},PSParser.prototype._uint8At=function(t){var r=this.pointer;return null!=t&&(r+=t),r<this.inputArray.length?this.inputArray[r]:null},PSParser.prototype._charAt=function(t){return String.fromCharCode(this._uint8At(t))},PSParser.prototype._parseCurrentNotWhitespaceSequence=function(){for(var t=!1,r=0;r<this.notWhiteSpaceCharacterLambdas.length;r++)if(!1!==(t=this.notWhiteSpaceCharacterLambdas[r].call(this)))return t;return t},PSParser.prototype._isWhiteSpaceCharacter=function(){return-1!=[0,9,10,12,13,32].indexOf(this._uint8At())},PSParser.prototype._findNextNotWhitespaceCharacter=function(){for(;this._isWhiteSpaceCharacter();)if(this.pointer++,this.isEOF())return},PSParser.prototype._inputSlice=function(t,r){return!Uint8Array.prototype.slice&&"subarray"in Uint8Array.prototype?this.inputArray.subarray(t,r):this.inputArray.slice(t,r)},PSParser.prototype._readUntil=function(t,r){var e="";if(2==arguments.length&&!1===arguments[1])for(;!this.isEOF()&&!t.call(this);)e+=this._charAt(),this.pointer++;if(1==arguments.length)for(;!this.isEOF()&&t.call(this);)e+=this._charAt(),this.pointer++;return e},PSParser.prototype._readLoop=function(){for(var t=!1;!this.isEOF();){this._findNextNotWhitespaceCharacter();var r=this.pointer,e=this._parseCurrentNotWhitespaceSequence();if(this.classes.isPSObject(e)&&(e.pointer=r),this.pointer++,this.classes.isPSObject(e,"operator")&&("RD"==e.value||"-|"==e.value)&&this._isWhiteSpaceCharacter()&&this.core.execstack.length)for(var i=!1,s=0;s<this.core.execstack.length&&!i;++s){var n=this.core.execstack[s];this.classes.isPSObject(n,"operator")&&"eexec"==n.value&&(this.pointer++,i=!0)}if(this.core.tokenAction(e),Math.round(100*this.pointer/this.inputArray.length)==this.percentage||this.nestedParse||(this.percentage=Math.round(100*this.pointer/this.inputArray.length),this.core.toGravit("progress",[this.percentage],!1)),Math.random()<1e-4){t=!0;break}}if(t&&!this.isEOF()&&!this.nestedParse){var h=this;setTimeout((function(){parser._readLoop.call(h)}),0)}new Date>this.endTime&&(console.log("MAX WAIT TIME EXCEEDED"),this.core.toGravit("done"),this.core.toGravit("error",[3]),close()),!this.nestedParse&&this.isEOF()&&(this.core.toGravit("done"),setTimeout((function(){close()}),500))},PSParser.prototype.read=function(){this.endTime=new Date+this.MAXWAITTIME,this._findFileStart(),this._readLoop(),gDevelopment&&console.log("PARSER: end ")},PSParser.prototype.parseDSC=function(){for(;("%"!=this._charAt()||"%"!=this._charAt(1))&&this.pointer<this.inputArray.length-2;)this.pointer++;if(this.pointer>=this.inputArray.length-2)this.EOF=!0;else{for(var t=this.pointer;":"!=this._charAt()&&10!=this._uint8At()&&13!=this._uint8At()&&this.pointer<this.inputArray.length-2;)this.pointer++;if(this.pointer>=this.inputArray.length-2)this.EOF=!0;else{var r=":"==this._charAt(),e=String.fromCharCode.apply(null,this._inputSlice(t,this.pointer)).substring(2),i={};if(!r)return i[e]=null,i;this.pointer++;for(var s=this.pointer;10!=this._uint8At()&&13!=this._uint8At()&&this.pointer<this.inputArray.length-2;)this.pointer++;if(!(this.pointer>=this.inputArray.length-2)){var n=String.fromCharCode.apply(null,this._inputSlice(s,this.pointer));return i[e]=n,i}this.EOF=!0}}},PSParser.prototype.decodeTuple=function(t){var r=0,e="",i=t.length;if(t.length<5)for(var s=t.length;s<5;s++)t+="u";for(s=0;s<5;s++)s<t.length?r=85*r+t.charCodeAt(s)-33:r*=85;if(r>4294967295)return gDevelopment&&console.log("wrong ascii85 tuple: "+this.pointer),!1;for(s=0;s<t.length-1;s++)e+=String.fromCharCode(r>>8*(3-s)&255);return e.substring(0,i-1)},t.exports=PSParser}});